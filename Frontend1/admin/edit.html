<!DOCTYPE html>
<html lang="en">
<head>
     <!-- Required meta tags -->
     <meta charset="utf-8" />
     <meta
         name="viewport"
         content="width=device-width, initial-scale=1, shrink-to-fit=no"
     />

     <!-- Bootstrap CSS v5.2.1 -->
     <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
         crossorigin="anonymous"
     />
    <title>Edit Loan Details</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        label {
            font-weight: bold;
        }
        input[type="text"], input[type="number"], input[type="tel"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        button {
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn-save {
            background-color: #28a745;
            color: white;
        }
        .btn-cancel {
            background-color: #dc3545;
            color: white;
        }
    </style>
</head>
<body>

    <h1>Edit Loan Details</h1>

    <form id="edit-loan-form">
        <label for="product-name">Product Name:</label>
        <input type="text" id="product-name" name="product-name" value="" required>
    
        <label for="purchase-date">Purchase Date:</label>
        <input type="date" id="purchase-date" name="purchase-date" value="" required>
    
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" value="" required>
    
        <label for="total">Total:</label>
        <input type="number" id="total" name="total" value="" required>
    
        <label>Payment Status:</label>
        <div>
            <input type="radio" id="paid" name="payment-status" value="1" required>
            <label for="paid">Paid</label>
        </div>
        <div>
            <input type="radio" id="unpaid" name="payment-status" value="0" required>
            <label for="unpaid">Unpaid</label>
        </div>
    
        <div>
            <button type="submit" class="btn-save">Save</button>
            <button type="button" class="btn-cancel" onclick="cancelEdit()">Cancel</button>
        </div>
    </form>
    

    <script>
           let product=[];
        // Example loan data


        // Function to populate form with existing loan data
        function populateForm() {
            document.getElementById('product-name').value=product.name;
            document.getElementById('purchase-date').value=product.purchaseDate;
            document.getElementById('quantity').value=product.quantity;
            document.getElementById('total').value=product.totalPrice;
            document.querySelector('input[name="payment-status"]:checked').value=product.paymentStatus;
        }

        // Function to save changes
        document.getElementById('edit-loan-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            // Get form values
            const productName = document.getElementById('product-name').value;
            const purchaseDate = document.getElementById('purchase-date').value;
            const quantity = document.getElementById('quantity').value;
            const total = document.getElementById('total').value;
            const paymentStatus = document.querySelector('input[name="payment-status"]:checked').value;

            // Prepare the data for submission
            const formData = {
                productName,
                purchaseDate,
                quantity,
                total,
                paymentStatus
            };

            // Process the form data (e.g., send it to your server)
            console.log(formData);
            // Add your fetch request or other logic here
});

        // Function to cancel the edit and redirect back
        function cancelEdit() {
            // Redirect or go back to the previous page
             window.history.back(); // Uncomment this line to go back to the previous page
        }
     
        function getParamsFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const productString = urlParams.get('product');;

            // Decode and parse the product object
            const produc = JSON.parse(decodeURIComponent(productString));

           // console.log('Product:', produc);

            return produc;
        }
        // Populate the form when the page loads
        window.onload = function() {
         product = getParamsFromUrl();
        populateForm();
            console.log(product);
    // Populate form or perform any other actions with product and customerId
};
    </script>

</body>
</html>
